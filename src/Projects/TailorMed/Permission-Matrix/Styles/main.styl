// TailorMed 權限矩陣系統樣式

// 導入變數
@import 'variables.styl'

// 重置和基礎樣式
*
  margin 0
  padding 0
  box-sizing border-box

body
  font-family font-family-primary
  line-height 1.6
  color text-color
  background-color background-color

.container
  max-width 1400px
  margin 0 auto
  padding 0 20px

// Header 樣式
.header
  background linear-gradient(135deg, primary-color 0%, secondary-color 100%)
  color white
  padding 1rem 0
  box-shadow 0 2px 10px rgba(0,0,0,0.1)

  .container
    display flex
    justify-content space-between
    align-items center
    flex-wrap wrap

  h1
    font-size 1.8rem
    margin-bottom 0.5rem

    i
      margin-right 0.5rem
      color accent-color

  .subtitle
    font-size 0.9rem
    opacity 0.9

.nav
  display flex
  gap 1rem

.nav-link
  color white
  text-decoration none
  padding 0.5rem 1rem
  border-radius 6px
  transition all 0.3s ease
  font-weight 500

  &:hover
    background-color rgba(255,255,255,0.2)
    transform translateY(-2px)

// Main 內容區域
.main
  padding 2rem 0

.section
  background white
  margin-bottom 2rem
  padding 2rem
  border-radius 12px
  box-shadow 0 2px 10px rgba(0,0,0,0.1)

  h2
    color text-color
    margin-bottom 1.5rem
    font-size 1.5rem
    border-bottom 2px solid primary-color
    padding-bottom 0.5rem
    display flex
    justify-content space-between
    align-items center

    i
      margin-right 0.5rem
      color accent-color

    .database-stats
      display flex
      gap 1rem
      font-size 1rem
      font-weight normal
      color #666

      span
        background-color #f8f9fa
        padding 0.25rem 0.75rem
        border-radius 4px
        border 1px solid #e9ecef

// 統計卡片
.stats-grid
  display grid
  grid-template-columns repeat(auto-fit, minmax(250px, 1fr))
  gap 1.5rem
  margin-bottom 2rem

.stat-card
  background linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)
  padding 1.5rem
  border-radius 10px
  display flex
  align-items center
  gap 1rem
  transition transform 0.3s ease

  &:hover
    transform translateY(-5px)

.stat-content
  h3
    font-size 2rem
    color primary-color
    margin-bottom 0.25rem

  p
    color #666
    font-size 0.9rem

// 矩陣控制區域
.matrix-controls
  display flex
  gap 1rem
  margin-bottom 1.5rem
  flex-wrap wrap
  align-items center

.filter-group
  display flex
  align-items center
  gap 0.5rem

  label
    font-weight 500
    color primary-color

.filter-select, .filter-input
  padding 0.5rem
  border 2px solid #e9ecef
  border-radius 6px
  font-size 0.9rem
  transition border-color 0.3s ease

  &:focus
    outline none
    border-color accent-color

// 按鈕樣式
.btn
  padding 0.75rem 1.5rem
  border none
  border-radius 6px
  cursor pointer
  font-weight 500
  transition all 0.3s ease
  text-decoration none
  display inline-flex
  align-items center
  gap 0.5rem

.btn-primary
  background-color accent-color
  color white

  &:hover
    background-color darken(accent-color, 10%)
    transform translateY(-2px)

.btn-secondary
  background-color #6c757d
  color white

  &:hover
    background-color #5a6268
    transform translateY(-2px)

// 矩陣表格
.matrix-container
  overflow-x auto
  border 1px solid #e9ecef
  border-radius 8px

.matrix-table
  width 100%
  border-collapse collapse
  font-size 0.9rem

  th, td
    padding 0.75rem
    text-align center
    border 1px solid #e9ecef

  th
    background-color primary-color
    color white
    font-weight 600
    position sticky
    top 0
    z-index 10

  tr:nth-child(even)
    background-color #f8f9fa

  tr:hover
    background-color #e3f2fd

// 權限狀態指示器
.permission-yes
  color #28a745
  font-weight bold
  font-size 1rem

.permission-no
  color #dc3545
  font-weight bold
  font-size 1rem

.permission-partial
  color #ffc107
  font-weight bold
  font-size 1rem

// 角色管理區域
.roles-container
  display grid
  grid-template-columns 1fr 2fr
  gap 2rem

.role-list
  background-color #f8f9fa
  padding 1.5rem
  border-radius 8px
  max-height 500px
  overflow-y auto

.role-item
  padding 1rem
  margin-bottom 0.5rem
  background white
  border-radius 6px
  cursor pointer
  transition all 0.3s ease
  border-left 4px solid transparent

  &:hover
    background-color #e3f2fd
    border-left-color accent-color

  &.active
    background-color #e3f2fd
    border-left-color accent-color

.role-details
  background-color #f8f9fa
  padding 1.5rem
  border-radius 8px

// 審計區域
.audit-filters
  display flex
  gap 1rem
  margin-bottom 1.5rem
  flex-wrap wrap
  align-items center

.audit-results
  background-color #f8f9fa
  padding 1.5rem
  border-radius 8px
  min-height 200px

// CRM 表單總覽
.crm-tables-grid
  display grid
  grid-template-columns repeat(auto-fit, minmax(300px, 1fr))
  gap 1.5rem
  margin-top 1rem

  .table-card
    background white
    border 1px solid #e9ecef
    border-radius 12px
    padding 1.5rem
    box-shadow 0 2px 4px rgba(0,0,0,0.1)

  .table-header
    margin-bottom 1rem
    padding-bottom 1rem
    border-bottom 2px solid #f8f9fa

    h3
      color primary-color
      font-size 1.2rem
      margin-bottom 0.5rem
      display flex
      align-items center
      gap 0.5rem

      i
        color accent-color
        font-size 1.1rem

    p
      color #666
      font-size 0.9rem
      margin 0

  .table-stats
    display flex
    flex-direction column
    gap 0.5rem

    .stat-item
      display flex
      align-items start

      .label
        color #666
        font-size 0.9rem
        font-weight 500

      .value
        color primary-color
        font-size 1.1rem
        font-weight bold
        border-radius 6px
        min-width 3rem
        text-align center

// 機敏欄位容器樣式
.sensitive-fields
  display flex
  flex-direction column
  gap 0.3rem

// 機敏欄位樣式 - 使用更高特異性
.crm-tables-grid .table-stats .stat-item .sensitive-field,
.oms-tables-grid .table-stats .stat-item .sensitive-field
  color #fff !important
  font-size 0.8rem !important
  font-weight normal !important
  line-height 1.2
  padding 0.3rem 0.5rem !important
  min-width auto !important
  white-space normal
  text-align left !important
  background-color primary-color !important
  border-radius 4px
  display inline-block

// OMS 表單總覽
.oms-tables-grid
  display grid
  grid-template-columns repeat(auto-fit, minmax(300px, 1fr))
  gap 1.5rem
  margin-top 1rem

  .table-card
    background white
    border 1px solid #e9ecef
    border-radius 12px
    padding 1.5rem
    box-shadow 0 2px 4px rgba(0,0,0,0.1)

  .table-header
    margin-bottom 1rem
    padding-bottom 1rem
    border-bottom 2px solid #f8f9fa

    h3
      color primary-color
      font-size 1.2rem
      margin-bottom 0.5rem
      display flex
      align-items center
      gap 0.5rem

      i
        color accent-color
        font-size 1.1rem

    p
      color #666
      font-size 0.9rem
      margin 0

  .table-stats
    display flex
    flex-direction column
    gap 0.5rem

    .stat-item
      display flex
      align-items start

      .label
        color #666
        font-size 0.9rem
        font-weight 500

      .value
        color primary-color
        font-size 1.1rem
        font-weight bold
        border-radius 6px
        min-width 3rem
        text-align center

// 機敏欄位容器樣式
.sensitive-fields
  display flex
  flex-direction column
  gap 0.3rem

// Footer
.footer
  background-color primary-color
  color white
  text-align center
  padding 1.5rem 0
  margin-top 2rem

  p
    margin 0

// 響應式設計
@media (max-width: 768px)
  .header .container
    flex-direction column
    gap 1rem

  .nav
    flex-wrap wrap
    justify-content center

  .stats-grid
    grid-template-columns 1fr

  .matrix-controls
    flex-direction column
    align-items stretch

  .roles-container
    grid-template-columns 1fr

  .audit-filters
    flex-direction column
    align-items stretch

// 載入動畫
.loading
  display inline-block
  width 20px
  height 20px
  border 3px solid #f3f3f3
  border-top 3px solid accent-color
  border-radius 50%
  animation spin 1s linear infinite

@keyframes spin
  0%
    transform rotate(0deg)
  100%
    transform rotate(360deg)

// FIN 表單總覽 (複製自 .crm-tables-grid 樣式)
.fin-tables-grid
  display grid
  grid-template-columns repeat(auto-fit, minmax(300px, 1fr))
  gap 1.5rem
  margin-top 1rem

  .table-card
    background white
    border 1px solid #e9ecef
    border-radius 12px
    padding 1.5rem
    box-shadow 0 2px 4px rgba(0,0,0,0.1)

  .table-header
    margin-bottom 1rem
    padding-bottom 1rem
    border-bottom 2px solid #f8f9fa

    h3
      color primary-color
      font-size 1.2rem
      margin-bottom 0.5rem
      display flex
      align-items center
      gap 0.5rem

      i
        color accent-color
        font-size 1.1rem

    p
      color #666
      font-size 0.9rem
      margin 0

  .table-stats
    display flex
    flex-direction column
    gap 0.5rem

    .stat-item
      display flex
      align-items start

      .label
        color #666
        font-size 0.9rem
        font-weight 500

      .value
        color primary-color
        font-size 1.1rem
        font-weight bold
        border-radius 6px
        min-width 3rem
        text-align center

      // 機敏欄位容器樣式
      .sensitive-fields
        display flex
        flex-direction column
        gap 0.3rem

        // 機敏欄位樣式
        .sensitive-field
          color #fff !important
          font-size 0.8rem !important
          font-weight normal !important
          line-height 1.2
          padding 0.3rem 0.5rem !important
          min-width auto !important
          white-space normal
          text-align left !important
          background-color primary-color !important
          border-radius 4px
          display block
